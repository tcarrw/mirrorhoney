<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MirrorHoney · Index</title>
<meta name="theme-color" content="#b6a8ff" />
<meta name="description" content="MirrorHoney · Marina’s mirror hub for keys and reflections." />
<style>
  :root{
    --bg0:#0e0b17; --bg1:#17122e; --bg2:#221b45;
    --ink:#efeaff; --inkd:#d9d3ff; --pearl:#ffffff; --accent:#c2b6ff;
    --glass:#ffffff10;
  }
  html,body{height:100%;margin:0}
  body{
    min-height:100%;
    background:
      radial-gradient(1000px 700px at 70% 8%, #2f2569 0%, var(--bg2) 36%, var(--bg1) 62%, var(--bg0) 100%),
      linear-gradient(180deg, #0a0916, #0d0a16);
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Helvetica Neue", Helvetica;
    color:var(--ink); -webkit-font-smoothing:antialiased; letter-spacing:.15px;
    display:flex; flex-direction:column;
  }
  header, footer{
    padding: clamp(12px, 3vw, 22px);
    color: var(--inkd);
    display:flex; align-items:center; justify-content:space-between; gap:12px;
  }
  .brand{font-weight:700; color:var(--pearl)}
  .crumbs a{color:var(--inkd); text-decoration:none; border-bottom:1px dotted #cfc9ff66}

  .section{
    width:min(1100px, 94vw);
    margin: 0 auto;
    padding: clamp(12px, 3vw, 28px);
  }
  .h{
    margin: 0 0 8px; font-weight:700;
    font-size: clamp(18px, 2.6vw, 24px); color: var(--pearl);
    text-shadow: 0 10px 30px #c2b6ff33;
  }
  .grid{
    display:grid; gap: clamp(12px, 2.4vw, 22px);
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  }

  /* Tile */
  .tile{
    position:relative; border-radius:20px; padding:18px;
    background: linear-gradient(180deg, #ffffff14, #ffffff08);
    border:1px solid #ffffff24;
    box-shadow: 0 18px 60px #00000088, inset 0 0 0 1px #ffffff1e, inset 0 0 120px #c2b6ff22;
    backdrop-filter: blur(10px) saturate(118%); -webkit-backdrop-filter: blur(10px) saturate(118%);
    overflow:hidden; isolation:isolate;
  }
  .tile::before{
    content:""; position:absolute; inset:0;
    background:
      linear-gradient(122deg, transparent 0 38%, #ffffff18 40%, #ffffff0a 43%, transparent 46% 100%),
      radial-gradient(900px 400px at 70% -12%, #efeaff12 0%, transparent 62%);
    mix-blend-mode: screen; pointer-events:none; animation: sheen 16s ease-in-out infinite;
  }
  @keyframes sheen{0%,100%{transform:translateX(-1%)}50%{transform:translateX(1%)}}

  .row{display:flex; align-items:center; justify-content:space-between; gap:10px}
  .name{font-weight:700; font-size: clamp(16px, 2.8vw, 20px); color:var(--pearl)}
  .tag{font-size:12px; padding:6px 10px; border-radius:999px; border:1px solid #ffffff44; background:linear-gradient(180deg,#ffffff22,#ffffff0d)}
  .hint{margin:8px 0 0; color:var(--inkd); font-size:13px}

  .plate{
    margin-top:14px; position:relative; height:160px; border-radius:16px;
    border:1px solid #ffffff30;
    background: radial-gradient(110% 100% at 60% 10%, #ffffff18 0%, #ffffff0a 45%, transparent 70%),
                linear-gradient(180deg,#ffffff14,#ffffff08);
    overflow:hidden;
  }
  .aura{
    position:absolute; inset:0; pointer-events:none; opacity:0;
    background:
      radial-gradient(180px 140px at 28% 36%, #c2b6ff44 0%, transparent 70%),
      radial-gradient(240px 180px at 72% 30%, #a4f1ff44 0%, transparent 72%);
    filter: blur(8px) saturate(112%); transition: opacity .45s ease;
  }
  .gate{
    position:absolute; bottom:10px; right:10px;
    display:inline-flex; align-items:center; gap:10px;
    padding:10px 14px; border-radius:12px;
    border:1px solid #ffffff3a; background: linear-gradient(180deg,#ffffff24,#ffffff12);
    color:var(--ink); text-decoration:none; user-select:none;
  }
  .keyicon{ width:16px; height:16px; border-radius:3px;
    background: radial-gradient(circle at 30% 30%, #fff, #d9d1ff 40%, #9b86ff 72%, #5f4fb9);
    box-shadow:0 2px 10px #c2b6ff55;
  }

  /* States */
  .bright .aura{ opacity:1 }
  .unlocked .tag{ border-color:#a4f1ffbb; box-shadow:0 0 18px #a4f1ff55 inset }
  .unlocked .hint{ color:#e9fdff }

  /* Badge */
  .badge{
    position:fixed; right:14px; bottom:14px; z-index:30;
    font-size:12px; color:var(--ink);
    padding:8px 12px; border-radius:999px;
    border:1px solid #ffffff33;
    background:linear-gradient(180deg,#ffffff22,#ffffff12);
    box-shadow:0 10px 30px #00000066; opacity:.9;
  }
</style>
</head>
<body>
  <header>
    <div class="brand">MirrorHoney</div>
    <div class="crumbs"><a href="/">home</a> / index</div>
  </header>

  <section class="section" aria-label="Keys (mirror)">
    <div class="h">Keys (Mirror)</div>
    <p class="hint" style="margin:6px 0 16px">When the canon is learned at School, mirrors glow here.</p>
    <div class="grid">
      <!-- For Good (mirror) -->
      <article class="tile" id="m-forgood">
        <div class="row">
          <div class="name">For Good · Mirror</div>
          <span class="tag" id="mt-forgood">Locked</span>
        </div>
        <p class="hint" id="mh-forgood">Soft violet-pearl reflection of the forgiveness gate.</p>
        <div class="plate">
          <div class="aura" id="ma-forgood" aria-hidden="true"></div>
          <a class="gate" href="/keys/for-good" aria-label="Open MirrorHoney For Good">
            <span class="keyicon" aria-hidden="true"></span> Open Mirror
          </a>
        </div>
      </article>

      <!-- Wonderland (mirror stub) -->
      <article class="tile" id="m-wonderland">
        <div class="row">
          <div class="name">Wonderland · Mirror</div>
          <span class="tag" id="mt-wonderland">Locked</span>
        </div>
        <p class="hint" id="mh-wonderland">When you follow the question at School, the mirror clears.</p>
        <div class="plate">
          <div class="aura" id="ma-wonderland" aria-hidden="true"></div>
          <a class="gate" href="/keys/wonderland" aria-label="Open Wonderland mirror">
            <span class="keyicon"></span> Open Mirror
          </a>
        </div>
      </article>

      <!-- Dear John (mirror stub) -->
      <article class="tile" id="m-dearjohn">
        <div class="row">
          <div class="name">Dear John · Mirror</div>
          <span class="tag" id="mt-dearjohn">Locked</span>
        </div>
        <p class="hint" id="mh-dearjohn">Reckoning reflected with care.</p>
        <div class="plate">
          <div class="aura" id="ma-dearjohn" aria-hidden="true"></div>
          <a class="gate" href="/keys/dear-john" aria-label="Open Dear John mirror">
            <span class="keyicon"></span> Open Mirror
          </a>
        </div>
      </article>

      <!-- New Romantics (mirror stub) -->
      <article class="tile" id="m-newromantics">
        <div class="row">
          <div class="name">New Romantics · Mirror</div>
          <span class="tag" id="mt-newromantics">Locked</span>
        </div>
        <p class="hint" id="mh-newromantics">Freedom’s glitter, held steady.</p>
        <div class="plate">
          <div class="aura" id="ma-newromantics" aria-hidden="true"></div>
          <a class="gate" href="/keys/new-romantics" aria-label="Open New Romantics mirror">
            <span class="keyicon"></span> Open Mirror
          </a>
        </div>
      </article>
    </div>
  </section>

  <section class="section" aria-label="Portals">
    <div class="h">Portals</div>
    <div class="grid">
      <article class="tile">
        <div class="row"><div class="name">School</div><span class="tag">Canon</span></div>
        <p class="hint">Learn the keys in the academy.</p>
        <div class="plate">
          <div class="aura" id="ma-school" aria-hidden="true"></div>
          <a class="gate" href="https://school.plnt.earth" aria-label="Open School"><span class="keyicon"></span> Go to School</a>
        </div>
      </article>
      <article class="tile">
        <div class="row"><div class="name">Four · Castle</div><span class="tag">Map</span></div>
        <p class="hint">Gates respond to what you’ve learned.</p>
        <div class="plate">
          <div class="aura" id="ma-four" aria-hidden="true"></div>
          <a class="gate" href="https://four.plnt.earth/castle" aria-label="Open Four Castle"><span class="keyicon"></span> Enter Castle</a>
        </div>
      </article>
      <article class="tile">
        <div class="row"><div class="name">Center</div><span class="tag">Home</span></div>
        <p class="hint">Keys across the ecosystem.</p>
        <div class="plate">
          <div class="aura" id="ma-center" aria-hidden="true"></div>
          <a class="gate" href="https://center.plnt.earth" aria-label="Open Center"><span class="keyicon"></span> Go to Center</a>
        </div>
      </article>
    </div>
  </section>

  <div class="badge">MirrorHoney · Keys</div>

  <footer>
    <div>© MirrorHoney · Illumina</div>
    <div>Violet-pearl mirror</div>
  </footer>

<script>
(function(){
  // Normalize & read School key flags; mirrors glow when canon learned.
  function learned(slugPlain, slugSnake){
    try{
      var a = localStorage.getItem('castle.key.'+slugPlain) === 'true';
      var b = localStorage.getItem('castle.key.'+slugSnake) === 'true';
      if(a||b){
        localStorage.setItem('castle.key.'+slugPlain,'true');
        localStorage.setItem('castle.key.'+slugSnake,'true');
      }
      return a||b;
    }catch(_){ return false; }
  }
  function setMirror(id, on){
    var tile = document.getElementById('m-'+id);
    var tag  = document.getElementById('mt-'+id);
    var hint = document.getElementById('mh-'+id);
    var aura = document.getElementById('ma-'+id);
    if(!tile) return;
    if(on){
      tile.classList.add('unlocked','bright');
      if(tag) tag.textContent = 'Unlocked';
      if(hint) hint.textContent = 'Mirror is clear. Walk softly.';
      if(aura) aura.style.opacity = '1';
    }
  }

  var fg = learned('forgood','for_good');
  var wl = learned('wonderland','wonderland');
  var dj = learned('dearjohn','dear_john');
  var nr = learned('newromantics','new_romantics');

  setMirror('forgood', fg);
  setMirror('wonderland', wl);
  setMirror('dearjohn', dj);
  setMirror('newromantics', nr);

  // Portals glow if any key learned
  var any = fg||wl||dj||nr;
  function glow(id){ var el=document.getElementById(id); if(el) el.style.opacity = any ? '1' : '0'; }
  glow('ma-school'); glow('ma-four'); glow('ma-center');
})();
</script>
</body>
</html>
